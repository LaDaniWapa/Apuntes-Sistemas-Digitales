# Tema 09: Símplez. Modelo funcional

## Introducción

Se ve al computador como una **caja negra**.

- **Entradas:**  Programa (instrucciones) y Datos almacenados en memoria o leídos de periféricos.
- **Salidas:**  Datos resultados escritos en memoria o enviados a periféricos,.

## Representación de datos e instrucciones

Para que Símplez funcione, debemos definir formatos rígidos para los datos y las órdenes:

- **Datos Numéricos:**  Se usan **12 bits** para representar enteros sin signo (rango 0 a 4095).
- **Instrucciones:**  Tienen una longitud fija de **12 bits** divididos en dos campos:

  - **CO (Código de Operación):**  3 bits. Indica *qué* hacer
  - **CD (Campo de Dirección):**  9 bits. Indica *dónde* está el dato o a dónde saltar

## Juego de instrucciones

|Bin|Oct|Nem|Descripción|
| :---: | :---: | :----: | ---------------------------------------------------------------|
|000|0|ST|Carga de memoria al Acumulador.|
|001|1|LD|Guarda del Acumulador a memoria.|
|010|2|ADD|Suma el contenido de una dirección de memoria al Acumulador.|
|011|3|BR|Salto a una dirección.|
|100|4|BZ|Salto solo si el Acumulador vale 0.|
|101|5|CLR|Pone el Acumulador a cero.|
|110|6|DEC|Resta 1 al Acumulador.|
|111|7|HALT|Detiene la máquina.|

## Direccionamiento y Ensamblador

- **Direccionamiento Directo:**  El número que aparece en la instrucción es directamente la dirección de memoria donde está el dato.
- **Lenguaje Ensamblador**: En lugar de escribir en binerio (`010 000001011`​), usamos mnemotécnicos (`ADD /11`).

  - Se introducen **etiquetas** y **comentarios**.
  - Existen **Pseudo-instrucciones** (como `DATA`​ para definir constantes o `RES` para reservar espacio) que no son órdenes para la CPU, si no para el programa ensamblador.

## Entrada/Salida: Mapeo y Espera Activa

Símplez no tiene instrucciones especiales para "imprimir" o "leer". Usa trucos de memoria:

- **Mapeo en memoria:**  Los perisféricos "robar" direcciones de memoria.

  - Escribir en la dirección **509** es enviar un dato a la **pantalla**.
  - Leer de la dirección **511** es leer del **teclado**.
- **Espera Activa (Polling):**  Como los perisféricos son lentos, la CPU debe preguntar constantemente " *¿Estás listo?* ".

  - *Se leen las direcciones de estado (*​***508*** *para pantalla,*  ***510*** *para teclado). Si valen 0, la CPU se queda en bucle esperando hasta que valgan 1.*

‍
